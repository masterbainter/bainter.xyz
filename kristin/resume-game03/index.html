<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kristin Joy Bainter - Interactive Resume</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Use Inter as the default font */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow: hidden; /* Hide resume scrollbar while game is active */
        }
        /* Simple print styles */
        @media print {
            /* ... existing print styles ... */
            body {
                font-size: 10pt;
                background: #fff;
                overflow: visible;
            }
            .no-print {
                display: none;
            }
            /* Hide game gate when printing */
            #game-gate {
                display: none !important;
            }
            #resume-content {
                display: block !important;
                opacity: 1 !important;
                transform: none !important;
            }
            .print-shadow-none {
                box-shadow: none;
            }
            .print-break-inside-avoid {
                break-inside: avoid;
            }
            .tab-pane {
                display: block !important;
                opacity: 1 !important;
                visibility: visible !important;
                height: auto !important;
            }
            .tab-content-container { padding: 0; }
            .main-card { padding: 0; border: none; box-shadow: none; }
            .print-header { padding-bottom: 2rem; border-bottom: 2px solid #e5e7eb; }
        }
        /* Icon wrapper */
        .icon-wrapper {
            width: 1.25rem; /* size-5 */
            height: 1.25rem; /* size-5 */
            display: inline-flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        /* --- Game Styles --- */
        #game-canvas {
            cursor: pointer;
            background-color: #f3f4f6; /* bg-gray-100 */
        }
        
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 text-gray-800 min-h-screen">

    <!-- =========== GAME GATE =========== -->
    <div id="game-gate" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-gradient-to-br from-blue-700 to-indigo-900 transition-all duration-1000 ease-in-out">
        <div class="bg-white rounded-xl shadow-2xl p-6 sm:p-10 text-center w-full max-w-lg">
            <h2 class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent mb-2">
                Unlock Resume: Skill Sprint
            </h2>
            <p class="text-gray-600 mb-4 text-sm sm:text-base">Use Arrow Keys, A/D, or Swipe to move. Hit Skill gates, avoid Error gates!</p>
            
            <!-- Game UI -->
            <div class="my-4 flex justify-between text-lg font-semibold text-blue-700">
                <span>Score: <span id="score-display">0</span></span>
                <span>Target: <span id="target-display">50</span></span>
            </div>

            <!-- Game Canvas -->
            <canvas id="game-canvas" class="w-full h-64 sm:h-80 rounded-lg border-2 border-gray-300"></canvas>

            <p id="game-message" class="mt-4 text-lg h-6 transition-opacity duration-300 opacity-0"></p>
        </div>
    </div>
    <!-- ======== END GAME GATE ======== -->


    <!-- =========== RESUME CONTENT (Initially hidden by game) =========== -->
    <div id="resume-content" class="transition-opacity duration-1000 opacity-100"> <!-- Game JS will control this -->
        <div class="max-w-3xl mx-auto p-4 sm:p-8 lg:p-12">
            <!-- Main resume container -->
            <div class="bg-white rounded-xl shadow-2xl overflow-hidden print-shadow-none main-card">

                <!-- Header Section -->
                <header class="text-center p-6 sm:p-10 print-header">
                    <!-- Name and Title -->
                    <h1 class="text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent">
                        Kristin Joy Bainter
                    </h1>
                    <p class="text-xl lg:text-2xl text-gray-600 font-medium mt-2">
                        Administrative & Accounting Professional
                    </p>
                    
                    <!-- Contact Buttons -->
                    <div class="mt-8 flex flex-wrap justify-center gap-3 no-print">
                        <a href="tel:213-521-0494" class="flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all hover:shadow-md hover:-translate-y-0.5 transform">
                            <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                            (213) 521-0494
                        </a>
                        <a href="mailto:bainterkristin@gmail.com" class="flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all hover:shadow-md hover:-translate-y-0.5 transform">
                            <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 194 0 0 1-2.06 0L2 7"></path></svg>
                            bainterkristin@gmail.com
                        </a>
                        <div class="flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-medium text-gray-700">
                            <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                            Winner, South Dakota
                        </div>
                        <button id="print-btn" class="flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all hover:shadow-md hover:-translate-y-0.5 transform">
                            <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"></line></svg>
                            Download as PDF
                        </button>
                    </div>
                </header>

                <!-- Tab Navigation -->
                <nav class="flex justify-center space-x-2 sm:space-x-4 p-4 bg-gray-50 border-t border-b border-gray-200 no-print">
                    <button data-tab="overview" class="tab-btn flex items-center gap-2 px-3 py-2 sm:px-5 sm:py-3 rounded-full font-semibold transition-all duration-300 shadow-sm">
                        <svg class="icon-wrapper" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                        <span class="hidden sm:inline">Overview</span>
                    </button>
                    <button data-tab="experience" class="tab-btn flex items-center gap-2 px-3 py-2 sm:px-5 sm:py-3 rounded-full font-semibold transition-all duration-300 shadow-sm">
                        <svg class="icon-wrapper" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>
                        <span class="hidden sm:inline">Experience</span>
                    </button>
                    <button data-tab="skills" class="tab-btn flex items-center gap-2 px-3 py-2 sm:px-5 sm:py-3 rounded-full font-semibold transition-all duration-300 shadow-sm">
                        <svg class="icon-wrapper" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                        <span class="hidden sm:inline">Skills & Ed.</span>
                    </button>
                </nav>

                <!-- Main Content Area (Tabs) -->
                <main class="p-6 sm:p-10 tab-content-container">
                    
                    <!-- Tab 1: Overview -->
                    <div id="tab-overview" class="tab-pane space-y-8">
                        <!-- ... existing Overview content ... -->
                        <section class="print-break-inside-avoid">
                            <h2 class="text-2xl font-bold text-blue-800 mb-6">
                                Professional Summary
                            </h2>
                            <p class="text-gray-700 leading-relaxed">
                                Highly organized and detail-oriented administrative professional with strong experience in accounting, payroll, and financial transaction processing. Skilled in data entry, reconciliation, and record accuracy, with a proven ability to maintain confidentiality and efficiency. Dedicated to delivering excellent customer service and ensuring precision in every task. Seeking to apply administrative and accounting expertise in a Teller or Item Processor role within a financial institution.
                            </p>
                        </section>
                         <!-- Additional Highlights -->
                        <section class="print-break-inside-avoid">
                            <h2 class="text-2xl font-bold text-blue-800 mb-6">
                                Additional Highlights
                            </h2>
                            <ul class="space-y-3">
                                <li class="flex items-start gap-3">
                                    <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                    <span>Experienced with confidential financial documentation.</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                    <span>Recognized for reliability, accuracy, and meeting deadlines.</span>
                                </li>
                                <li class="flex items-start gap-3">
                                    <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                    <span>Strong aptitude for learning banking systems and processing software.</span>
                                </li>
                            </ul>
                        </section>
                    </div>
                    
                    <!-- Tab 2: Experience -->
                    <div id="tab-experience" class="tab-pane space-y-8 hidden">
                        <!-- ... existing Experience content ... -->
                        <section class="print-break-inside-avoid">
                            <h2 class="text-2xl font-bold text-blue-800 mb-6">
                                Professional Experience
                            </h2>
                            
                            <!-- Job Entry -->
                            <div>
                                <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-2">
                                    <h3 class="text-lg font-bold text-gray-900">Frontier Motors</h3>
                                    <span class="font-medium text-gray-600 text-sm sm:text-base">2023 â€“ 2025</span>
                                </div>
                                <h4 class="font-semibold text-blue-700 text-md mb-4">Administrative Assistant</h4>
                                
                                <ul class="space-y-3">
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Processed and reconciled accounts payable and receivable transactions, maintaining accurate financial records.</span>
                                    </li>
                                    <!-- ... other list items ... -->
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Managed payroll processing and ensured timely, precise employee payments.</span>
                                    </li>
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Handled daily transaction processing, including credit card deals and monthly statement reconciliation.</span>
                                    </li>
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Entered and verified financial data with accuracy, ensuring compliance with accounting procedures.</span>
                                    </li>
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Coded, organized, and processed documents for recordkeeping and audit readiness.</span>
                                    </li>
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Collected and distributed incoming and outgoing mail while maintaining confidentiality of sensitive information.</span>
                                    </li>
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Supported general accounting functions and assisted with audit preparation and reporting.</span>
                                    </li>
                                    <li class="flex items-start gap-3">
                                        <svg class="icon-wrapper text-blue-600 mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Delivered professional, customer-focused service in a fast-paced business environment.</span>
                                    </li>
                                </ul>
                            </div>
                        </section>
                    </div>
                    
                    <!-- Tab 3: Skills & Education -->
                    <div id="tab-skills" class="tab-pane space-y-8 hidden">
                        <!-- ... existing Skills & Education content ... -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                            <!-- Skills -->
                            <section class="print-break-inside-avoid">
                                <h2 class="text-2xl font-bold text-blue-800 mb-6">
                                    Skills
                                </h2>
                                <ul class="space-y-3">
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Transaction Processing & Data Entry</span>
                                    </li>
                                    <!-- ... other list items ... -->
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Financial Reconciliation & Record Management</span>
                                    </li>
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Accounting & Payroll Processing</span>
                                    </li>
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Proficient in Microsoft Office (Excel, Word, Outlook)</span>
                                    </li>
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Cash Handling & Attention to Detail</span>
                                    </li>
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Customer Service & Communication</span>
                                    </li>
                                    <li class="flex items-center gap-3">
                                        <svg class="icon-wrapper text-blue-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                        <span>Time Management & Organization</span>
                                    </li>
                                </ul>
                            </section>

                            <!-- Education -->
                            <section class="print-break-inside-avoid">
                                <h2 class="text-2xl font-bold text-blue-800 mb-6">
                                    Education
                                </h2>
                                <div>
                                    <h3 class="font-semibold text-gray-900">High School Diploma Equivalent (GED)</h3>
                                </div>
                            </section>
                        </div>
                    </div>

                </main>
            </div>
            
            <!-- Footer -->
            <footer class="text-center mt-6 text-sm text-gray-500 no-print">
                <p>Interactive resume built with Tailwind CSS & JavaScript.</p>
            </footer>

        </div>
    </div>
    
    <!-- JavaScript for Tabs, Print Button, and Game -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Resume Tab logic ---
            const tabs = document.querySelectorAll('.tab-btn');
            const panes = document.querySelectorAll('.tab-pane');
            const printBtn = document.getElementById('print-btn');

            const activeClasses = 'bg-blue-600 text-white';
            const inactiveClasses = 'bg-gray-100 text-gray-600 hover:bg-gray-200';

            function showTab(tabId) {
                panes.forEach(pane => pane.classList.add('hidden'));
                tabs.forEach(tab => {
                    tab.classList.remove(...activeClasses.split(' '));
                    tab.classList.add(...inactiveClasses.split(' '));
                });
                const targetPane = document.getElementById(`tab-${tabId}`);
                if (targetPane) targetPane.classList.remove('hidden');
                
                const targetTab = document.querySelector(`button[data-tab="${tabId}"]`);
                if (targetTab) {
                    targetTab.classList.remove(...inactiveClasses.split(' '));
                    targetTab.classList.add(...activeClasses.split(' '));
                }
            }
            tabs.forEach(tab => {
                tab.addEventListener('click', () => showTab(tab.dataset.tab));
            });
            showTab('overview'); // Show 'overview' tab by default

            if (printBtn) {
                printBtn.addEventListener('click', () => window.print());
            }

            // --- Game Logic ---
            const gameGate = document.getElementById('game-gate');
            const gameMessage = document.getElementById('game-message');
            const resumeContent = document.getElementById('resume-content');
            
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('score-display');
            const targetDisplay = document.getElementById('target-display');

            // On initial load, make resume invisible for fade-in effect
            resumeContent.style.opacity = '0';
            resumeContent.style.display = 'none';

            // Game constants
            let canvasWidth = canvas.clientWidth; // Use clientWidth for responsive size
            let canvasHeight = canvas.clientHeight;
            canvas.width = canvasWidth; // Set actual canvas resolution
            canvas.height = canvasHeight;

            const PLAYER_SIZE = 30;
            const GATE_WIDTH = canvasWidth / 2 - 10; // Half canvas width minus padding
            const GATE_HEIGHT = 50;
            const GATE_SPEED = 2;
            const PLAYER_MOVE_SPEED = 5;
            const TARGET_SCORE = 50;
            const TOTAL_GATES = 5;

            const SKILLS = [
                {text: '+10 Payroll', value: 10}, 
                {text: '+15 Reconcile', value: 15}, 
                {text: '+5 Data Entry', value: 5}, 
                {text: '+10 Accounting', value: 10}, 
                {text: '+10 MS Excel', value: 10}
            ];
            const ERRORS = [
                {text: '-5 Mistake', value: -5}, 
                {text: '-10 Error', value: -10}, 
                {text: '-15 Imbalance', value: -15},
                {text: '-5 Typo', value: -5},
                {text: '-10 Omission', value: -10}
            ];

            // Game variables
            let player = {
                x: canvasWidth / 2 - PLAYER_SIZE / 2,
                y: canvasHeight - 50,
                w: PLAYER_SIZE,
                h: PLAYER_SIZE
            };
            let gates = [];
            let score = 0;
            let gameFrame = 0;
            let gatesSpawned = 0;
            let isGameOver = false;
            let keys = { left: false, right: false };
            let activeTouch = null;
            let touchStartX = 0;
            let playerTargetX = player.x;

            targetDisplay.textContent = TARGET_SCORE;
            scoreDisplay.textContent = score;

            // --- Input Handlers ---
            document.addEventListener('keydown', (e) => {
                if (e.code === 'ArrowLeft' || e.code === 'KeyA') keys.left = true;
                if (e.code === 'ArrowRight' || e.code === 'KeyD') keys.right = true;
            });
            document.addEventListener('keyup', (e) => {
                if (e.code === 'ArrowLeft' || e.code === 'KeyA') keys.left = false;
                if (e.code === 'ArrowRight' || e.code === 'KeyD') keys.right = false;
            });

            // Touch and Mouse Controls
            function handleMoveStart(e) {
                e.preventDefault();
                playerTargetX = player.x; // Stop momentum
                touchStartX = (e.touches ? e.touches[0].clientX : e.clientX) - canvas.getBoundingClientRect().left;
                activeTouch = true;
            }
            function handleMove(e) {
                if (!activeTouch) return;
                e.preventDefault();
                let currentX = (e.touches ? e.touches[0].clientX : e.clientX) - canvas.getBoundingClientRect().left;
                let deltaX = currentX - touchStartX;
                playerTargetX = player.x + deltaX;
                // We'll update player.x towards playerTargetX in the game loop, so reset touchStartX
                touchStartX = currentX;
                player.x = playerTargetX; // For immediate response, just set it
            }
            function handleMoveEnd() {
                activeTouch = false;
                keys.left = false;
                keys.right = false;
            }

            canvas.addEventListener('mousedown', handleMoveStart);
            canvas.addEventListener('mousemove', handleMove);
            canvas.addEventListener('mouseup', handleMoveEnd);
            canvas.addEventListener('mouseleave', handleMoveEnd);

            canvas.addEventListener('touchstart', handleMoveStart, { passive: false });
            canvas.addEventListener('touchmove', handleMove, { passive: false });
            canvas.addEventListener('touchend', handleMoveEnd);

            
            function resetGame() {
                isGameOver = true; // Stop the loop temporarily
                gameMessage.textContent = 'Score too low! Retrying...';
                gameMessage.classList.add('opacity-100', 'text-red-600');
                
                setTimeout(() => {
                    score = 0;
                    gates = [];
                    gameFrame = 0;
                    gatesSpawned = 0;
                    player.x = canvasWidth / 2 - PLAYER_SIZE / 2;
                    playerTargetX = player.x;
                    scoreDisplay.textContent = score;
                    
                    gameMessage.classList.remove('opacity-100', 'text-red-600');
                    isGameOver = false; // Restart
                    gameLoop();
                }, 1500);
            }

            function winGame() {
                isGameOver = true; // Stop the game loop
                gameMessage.textContent = 'Success! Unlocking...';
                gameMessage.classList.add('opacity-100', 'text-green-600');

                setTimeout(() => {
                    // Animate game gate out
                    gameGate.classList.add('opacity-0', '-translate-y-full');
                    // Allow body to scroll again
                    document.body.style.overflow = 'visible';
                    // Show resume
                    resumeContent.style.display = 'block';
                    setTimeout(() => {
                        resumeContent.style.opacity = '1';
                        gameGate.style.display = 'none'; // Remove from layout
                    }, 50); // Short delay to allow display:block to register
                }, 1500); // Wait 1.5s after win
            }

            function spawnGatePair() {
                gameFrame++;
                // Spawn a gate pair every 150 frames
                if (gameFrame % 150 === 0 && gatesSpawned < TOTAL_GATES) {
                    gatesSpawned++;
                    let pairId = gameFrame;
                    let skill = SKILLS[Math.floor(Math.random() * SKILLS.length)];
                    let error = ERRORS[Math.floor(Math.random() * ERRORS.length)];
                    
                    let isSkillLeft = Math.random() > 0.5;
                    let leftGateX = 5; // 5px padding
                    let rightGateX = canvasWidth / 2 + 5; // 5px padding

                    gates.push({
                        x: isSkillLeft ? leftGateX : rightGateX,
                        y: -GATE_HEIGHT,
                        w: GATE_WIDTH,
                        h: GATE_HEIGHT,
                        text: skill.text,
                        value: skill.value,
                        type: 'skill',
                        pairId: pairId
                    });
                    gates.push({
                        x: isSkillLeft ? rightGateX : leftGateX,
                        y: -GATE_HEIGHT,
                        w: GATE_WIDTH,
                        h: GATE_HEIGHT,
                        text: error.text,
                        value: error.value,
                        type: 'error',
                        pairId: pairId
                    });
                }
            }

            function gameLoop() {
                if (isGameOver) return; // Stop loop if game is over

                // 1. Clear Canvas
                ctx.clearRect(0, 0, canvasWidth, canvasHeight);

                // 2. Draw "Path" divider
                ctx.fillStyle = '#d1d5db'; // bg-gray-300
                ctx.fillRect(canvasWidth / 2 - 1, 0, 2, canvasHeight);

                // 3. Update Player from keyboard
                if (keys.left && player.x > 0) {
                    player.x -= PLAYER_MOVE_SPEED;
                }
                if (keys.right && player.x < canvasWidth - player.w) {
                    player.x += PLAYER_MOVE_SPEED;
                }
                // Keep player in bounds (for touch/mouse)
                if (player.x < 0) player.x = 0;
                if (player.x > canvasWidth - player.w) player.x = canvasWidth - player.w;

                // 4. Draw Player
                ctx.fillStyle = '#2563eb'; // text-blue-600
                ctx.fillRect(player.x, player.y, player.w, player.h);

                // 5. Draw Score on Player
                ctx.fillStyle = 'white';
                ctx.font = '14px Inter';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(score, player.x + player.w / 2, player.y + player.h / 2);

                // 6. Spawn, Update, and Draw Gates
                spawnGatePair();

                for (let i = gates.length - 1; i >= 0; i--) {
                    let gate = gates[i];
                    gate.y += GATE_SPEED;

                    // Draw Gate
                    ctx.fillStyle = gate.type === 'skill' ? 'rgba(16, 185, 129, 0.8)' : 'rgba(239, 68, 68, 0.8)'; // green-500 / red-500
                    ctx.fillRect(gate.x, gate.y, gate.w, gate.h);
                    
                    // Draw Text
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 14px Inter';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(gate.text, gate.x + gate.w / 2, gate.y + gate.h / 2);

                    // Check collision
                    if (player.x < gate.x + gate.w &&
                        player.x + player.w > gate.x &&
                        player.y < gate.y + gate.h &&
                        player.y + player.h > gate.y) 
                    {
                        score += gate.value;
                        scoreDisplay.textContent = score;
                        // Remove both gates in the pair
                        gates = gates.filter(g => g.pairId !== gate.pairId);
                    }
                    // Remove if off-screen (and missed)
                    else if (gate.y > canvasHeight) {
                        gates.splice(i, 1);
                    }
                }

                // 7. Check for Win/Loss
                if (gates.length === 0 && gatesSpawned === TOTAL_GATES) {
                    if (score >= TARGET_SCORE) {
                        winGame();
                    } else {
                        resetGame();
                    }
                    return; // Stop this frame
                }

                // 8. Request next frame
                requestAnimationFrame(gameLoop);
            }

            // Start the game
            gameLoop();
        });
    </script>

</body>
</html>
